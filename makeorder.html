
<html>
<head>
<meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1">
<title>kan kan | Order GUI</title>
<script src="static/js/jquery.min.js"> </script>
<script src="static/js/main.js" ></script>
<script src="static/js/requests.js" ></script>
<link rel="stylesheet" type="text/css" href="static/css/main.css">
<link rel="stylesheet" type="text/css" href="static/css/w3.css" >

<script>

function InitRowOneSetUp ()
{
	ShowPaintNamesOptions ('names-id-1');
	setInterval(ShowPaintTypesOptions ('types-id-1'),5000)
	// DisplayCostPrice ('amount-id-1')
}

function InitRowTwoSetUp ()
{
	ShowPaintNamesOptions ('names-id-2');
	ShowPaintTypesOptions ('types-id-2')
}
	
function InitRowThreeSetUp ()
{
	ShowPaintNamesOptions ('names-id-3');
	ShowPaintTypesOptions ('types-id-3')
}

function LoadNamesAndTypes ()
{
	InitRowOneSetUp ();
	InitRowTwoSetUp ();
	InitRowThreeSetUp ();
}

function InitSetUp ()
{
	GetPaintNames ();
	GetPaintTypes ();
	GetPaintPrices ();
	
	setTimeout(InitPricesArrary, 4000);
	setTimeout(LoadNamesAndTypes, 3000);
}

</script>

</head>

<body class="main_body" onload=" InitSetUp ()">
		<div id="main-header">
				<div  id= "Navigetion" class="header">
						<!-- ======= CLOSE ====== -->
					<span href="javascript:void(0)" class="closebtn" onclick="closeNavi()"><label class="close-navi-span"> &times;</label></span><!-- closs the navi -->
					<div id="our-avenues-menu-label-div">
						<label class="our-avenues-label" onclick="Load_index ()" > Home</label>
					</div><br>
						
						<div id="menu-items-div">
								<div id="our-avenues-menu-label-div">
										<label class="our-avenues-label" > Our Products</label>
									</div><br>
							<center>
								<a><label onclick="Load_Rak_View ()">Rak</label></a>
								<a><label onclick="Load_Paint_View ()">Paint</label></a>
								<a><label onclick="Load_Chint_View ()">Chint</label></a>
								<a><label onclick="Load_Mapei_View ()">Mapei</label></a>
								<a><label onclick="Load_Donald_View ()">Donald</label></a>
								<a><label onclick="Load_Panasonic_View ()">Panasonic</label></a>
							</center>
						</div>
						<br>
						<div id="our-avenues-menu-label-div">
							<label class="our-avenues-label" onclick="Load_Subdealer_Login ()" > Sub Dealer</label>
						</div><br>
						<div id="our-avenues-menu-label-div">
							<label class="our-avenues-label" onclick="Load_developer ()" > Developer</label>
						</div><br>
				</div>
				<div id="NaviDivHeader">
					<label class="kone-menu-label" onclick="openMenus()">&#9776;</label>
					<label class="kone-label">Kan Kan builders</label>
				</div>
		<script>
		function openMenus(){document.getElementById("Navigetion").style.width = "240px"}
		function closeNavi (){document.getElementById("Navigetion").style.width = "0"}
		</script>
		
		</div> <!-- main-header-->
		<div id="main-body" > <!-- Begin main-body div -->
	
	<center>
		<br><br>
		<label class="home_page_fonts" > Name :: </label> <br>
		<label class="home_page_fonts" > Open Blance :: </label><br>

		<!-- 
			===========================================================================================
			===========================================================================================
			===========================================================================================
			===========================================================================================
		-->
			<form id="customer_list_form_id"  name="customer_list_form">
				<table id="container" class="w3-white" >
						<tr class="w3-black"> 
							<td><label class="form-labels-titles">Name</label></td><td> <label class="form-labels-titles">Type</label></td> <td><label class="form-labels-titles" >Qty</label></td> <td><label class="form-labels-titles">Amount</label></td><td><label class="form-labels-titles">Total</label></td>
						</tr><br>

						<tr>
							<td><select id="names-id-1"   name="paint_name" class=" paint-name form_inputs"><option>Paint Name</option></select></td>
							<td><select id="types-id-1" onchange="DisplayCostPrice ('types-id-1', 'amount-id-1')" required class="form_inputs"  name="item_name"></select></td>
							<td><input  id="qty-id-1"  onchange="CalculateSubTotaPrice('qty-id-1','amount-id-1','sub-id-1')" onblur="CalculateFinalTotal ()" class="form_inputs" type="text"  name="paint_name" /></td>
							<td><input id="amount-id-1"  class="form_inputs " type="text"  name="paint_name" /></td>
							<td><input id="sub-id-1" class="subtotalinputs form_inputs" name="paint_name" type="text"/></td>
						</tr>

			
						<tr>
							<td><select id="names-id-2"  name="paint_name" class=" row2 paint-name form_inputs"></select></td>
							<td><select id="types-id-2" onchange="DisplayCostPrice ('types-id-2', 'amount-id-2')" required class="form_inputs"  name="item_name"></select></td>
							<td><input id="qty-id-2" onchange="CalculateSubTotaPrice('qty-id-2','amount-id-2','sub-id-2')" onblur="CalculateFinalTotal ()" class="form_inputs " type="text"  name="paint_name" /></td>
							<td><input id="amount-id-2" class="form_inputs " type="text"  name="paint_name" /></td>
							<td><input id="sub-id-2" class="subtotalinputs form_inputs" name="paint_name" type="text"/></td>
						</tr>

						<tr>
							<td><select id="names-id-3"  name="paint_name" class="paint-name form_inputs"></select></td>
							<td><select id="types-id-3"  onchange="DisplayCostPrice ('types-id-3', 'amount-id-3')" required class="form_inputs"  name="item_name"></select></td>
							<td><input id="qty-id-3" onchange="CalculateSubTotaPrice('qty-id-3','amount-id-3','sub-id-3')" onblur="CalculateFinalTotal ()" class="form_inputs " type="text"  name="paint_name" /></td>
							<td><input id="amount-id-3" class="form_inputs " type="text"  name="paint_name" /></td>
							<td><input id="sub-id-3" class="subtotalinputs form_inputs" name="paint_name" type="text"/></td>
						</tr>

				</table>
				<br>
				<table class="w3-white" id="second-table" >
					<tr>
						<td>
							<button type="button" name="submit" id="totalid" value="Total"/>Total ::</button></td>							
						</td>
						<td><input class="form_inputs finaltotal" type="text" name="final_total" id="finaltotal" /></td>
						<td><input type="button" id="sub-total-btn" value="sub totalss"></td>
						<td>
							<button type="button" onclick="GetPaintPrices ()" id="subtotalid" value="Total"/>Sub Total</button></td>							
						</td>
						<td>
							<input type="reset" name="text" id="submit_id"  value="Clear"/>
						</td>
						<td><label id="add_row_id">Add More</label></td>
						<td>
							<input type="button" name="submit" class=" btn btn-success" onclick="SubmitCustomerOrder ()"  value="Submit"/>
						</td>
					</tr>
				</table>
			</form>
	

			<div>
				<!-- <button class="comment-order-gui home_page_fonts" onclick="document.getElementById('id03').style.display='block'" >Comments</button><br><br>
				<div id="id03" class="w3-modal">
						<div class="w3-modal-content w3-animate-top w3-card-4">
							<header class="w3-container w3-teal">
								<span onclick="document.getElementById('id03').style.display='none'"
								class="w3-button w3-display-topright">&times;</span>
							</header>
							<div class="w3-container">
								<center><br>
									<form action="http://192.168.43.140:6060/chips_assign_staff_name" method="POST" id="chips-assign-form">
									
										<label for="uname"><b>Product</b></label><br>
										<select id="chips-staff" placeholder="Order No" name="staff_name" class="form_inputs" autocomplete="off" required>
											<option value="Paint" >Paint</option>
											<option value="Mapei" >Mapei</option>
										</select>
		
										<label for="uname"><b>Comment</b></label><br>
										<input type="text" placeholder="Comment" name="comment" class="form_inputs" autocomplete="off" required>
		
										<button type="submit" class="submit-btn" > Done</button><br>
									</form><br>
								</center>
							</div>
						</div>
					</div> -->
				</div>
			<!-- 
				===========================================================================================
				===========================================================================================
				===========================================================================================
				===========================================================================================
			-->
	<button class="back-btn" onclick="javascript:history.go(-1)"><< Back</button><br><br>
</center>
</div>
<div id="NaviDivFooter">
	<center>
		<label class="kone-label">Construction Supply</label>
	</center>
</div>
<script>

$(document).ready (function (event)
	{});

function SubmitCustomerOrder ()
{
	let data = $("form").serializeArray();
	console.log ("data serial........")
	console.log(data)
	let customer_array_list = [];
	let customer_order_list


	// $.each(data, function (inputaskey,textasvalue)
	$.each(data, function (inputaskey,textasvalue){customer_array_list.push( textasvalue.value )});

		customer_order_list =  customer_array_list.join(' ').trim();
		console.log(customer_order_list)

	$.ajax ({
			url:"http://127.0.0.1:4444/customer_order_post",
			method:"POST",
			data: {customer_list:customer_order_list}
			});	
	
}

function CalculateFinalTotal ()
{

	let arr = document.getElementsByClassName("subtotalinputs")
    let total=0;
    total_input = document.getElementById("finaltotal");
    for(let i=0;i<arr.length;i++)
    {
        if(parseInt(arr[i].value))
            total += parseInt(arr[i].value);
    }
    total_input.value = total.toLocaleString();
}



</script>
</body>
</html>

